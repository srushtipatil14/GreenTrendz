{"ast":null,"code":"var _jsxFileName = \"/Users/srushtipatil/Downloads/final_src/src/components/FileUploads.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { BarElement, CategoryScale, Chart, Legend, LinearScale, Tooltip } from 'chart.js';\nimport React from 'react';\nimport EsgDataVisualization from './EsgDataVisualization'; // Import the chart component\n\n// Register the required components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(BarElement, CategoryScale, LinearScale, Tooltip, Legend);\nconst FileUploads = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [esgData, setEsgData] = useState([]); // State to hold ESG data for visualization\n\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleUpload = async e => {\n    e.preventDefault();\n    if (!file) {\n      setMessage('Please select a CSV or Excel file to upload.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', file);\n    setLoading(true);\n    try {\n      const response = await axios.post('http://localhost:5000/api/uploads', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setMessage(response.data.message);\n      const uploadedFileData = response.data.data; // Assuming the backend returns the parsed data\n      setEsgData(uploadedFileData); // Set the parsed ESG data with `extractedMetrics`\n      setFile(null);\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      setMessage('Error uploading CSV/Excel file. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.heading,\n      children: \"Upload CSV/Excel File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpload,\n      style: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange,\n        accept: \".csv, .xlsx\",\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: styles.button,\n        children: loading ? 'Uploading...' : 'Upload File'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.message,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }, this), esgData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"visualization-container\",\n      style: styles.visualizationContainer,\n      children: [/*#__PURE__*/_jsxDEV(EsgDataVisualization, {\n        esgData: esgData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(FileUploads, \"OkDf/5DzRuc/EGYLvKDABzGiZ6U=\");\n_c = FileUploads;\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100vh',\n    backgroundColor: '#e6f7e9',\n    fontFamily: \"'Arial', sans-serif\"\n  },\n  heading: {\n    fontSize: '2rem',\n    color: '#2d6a4f',\n    marginBottom: '20px'\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  input: {\n    marginBottom: '15px',\n    padding: '10px',\n    borderRadius: '5px',\n    border: '1px solid #95d5b2'\n  },\n  button: {\n    padding: '10px 20px',\n    borderRadius: '5px',\n    backgroundColor: '#40916c',\n    color: '#fff',\n    border: 'none',\n    cursor: 'pointer',\n    transition: 'background-color 0.3s'\n  },\n  message: {\n    marginTop: '15px',\n    color: '#1b4332'\n  },\n  visualizationContainer: {\n    marginTop: '20px',\n    width: '80%' // Adjust as needed\n  }\n};\nexport default FileUploads;\nvar _c;\n$RefreshReg$(_c, \"FileUploads\");","map":{"version":3,"names":["axios","BarElement","CategoryScale","Chart","Legend","LinearScale","Tooltip","React","EsgDataVisualization","jsxDEV","_jsxDEV","register","FileUploads","_s","file","setFile","useState","message","setMessage","loading","setLoading","esgData","setEsgData","handleFileChange","e","target","files","handleUpload","preventDefault","formData","FormData","append","response","post","headers","data","uploadedFileData","error","console","style","styles","container","children","heading","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","form","type","onChange","accept","input","disabled","button","length","className","visualizationContainer","_c","display","flexDirection","alignItems","justifyContent","height","backgroundColor","fontFamily","fontSize","color","marginBottom","padding","borderRadius","border","cursor","transition","marginTop","width","$RefreshReg$"],"sources":["/Users/srushtipatil/Downloads/final_src/src/components/FileUploads.js"],"sourcesContent":["import axios from 'axios';\nimport { BarElement, CategoryScale, Chart, Legend, LinearScale, Tooltip } from 'chart.js';\nimport React from 'react';\nimport EsgDataVisualization from './EsgDataVisualization'; // Import the chart component\n\n// Register the required components\nChart.register(BarElement, CategoryScale, LinearScale, Tooltip, Legend);\n\nconst FileUploads = () => {\n    const [file, setFile] = useState(null);\n    const [message, setMessage] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [esgData, setEsgData] = useState([]); // State to hold ESG data for visualization\n\n    const handleFileChange = (e) => {\n        setFile(e.target.files[0]);\n    };\n\n    const handleUpload = async (e) => {\n        e.preventDefault();\n\n        if (!file) {\n            setMessage('Please select a CSV or Excel file to upload.');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        setLoading(true);\n\n        try {\n            const response = await axios.post('http://localhost:5000/api/uploads', formData, {\n                headers: { 'Content-Type': 'multipart/form-data' },\n            });\n            setMessage(response.data.message);\n            const uploadedFileData = response.data.data; // Assuming the backend returns the parsed data\n            setEsgData(uploadedFileData); // Set the parsed ESG data with `extractedMetrics`\n            setFile(null);\n        } catch (error) {\n            console.error('Error uploading file:', error);\n            setMessage('Error uploading CSV/Excel file. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div style={styles.container}>\n            <h2 style={styles.heading}>Upload CSV/Excel File</h2>\n            <form onSubmit={handleUpload} style={styles.form}>\n                <input \n                    type=\"file\" \n                    onChange={handleFileChange}\n                    accept=\".csv, .xlsx\" \n                    style={styles.input}\n                />\n                <button \n                    type=\"submit\" \n                    disabled={loading} \n                    style={styles.button}\n                >\n                    {loading ? 'Uploading...' : 'Upload File'}\n                </button>\n            </form>\n\n            {message && <p style={styles.message}>{message}</p>}\n\n            {/* Pass ESG data to EsgDataVisualization */}\n            {esgData.length > 0 && (\n                <div className=\"visualization-container\" style={styles.visualizationContainer}>\n                    <EsgDataVisualization esgData={esgData} /> {/* Render the chart with passed esgData */}\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst styles = {\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100vh',\n        backgroundColor: '#e6f7e9',\n        fontFamily: \"'Arial', sans-serif\",\n    },\n    heading: {\n        fontSize: '2rem',\n        color: '#2d6a4f',\n        marginBottom: '20px',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    input: {\n        marginBottom: '15px',\n        padding: '10px',\n        borderRadius: '5px',\n        border: '1px solid #95d5b2',\n    },\n    button: {\n        padding: '10px 20px',\n        borderRadius: '5px',\n        backgroundColor: '#40916c',\n        color: '#fff',\n        border: 'none',\n        cursor: 'pointer',\n        transition: 'background-color 0.3s',\n    },\n    message: {\n        marginTop: '15px',\n        color: '#1b4332',\n    },\n    visualizationContainer: {\n        marginTop: '20px',\n        width: '80%', // Adjust as needed\n    },\n};\n\nexport default FileUploads;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}